{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load modelform_title %}
{% block content %}
    {% if meal %}
        {% firstof "Update" as form_type %}
    {% else %}
        {% firstof "Create" as form_type %}
    {% endif %}
    <h1>
        {{ form_type }}
        {{ form|modelform_title }}
    </h1>
    <form action=""
          method="post"
          class="w-75 border border-1 py-2 px-3"
          enctype="multipart/form-data">
        {% csrf_token %}
        {{ form|crispy }}
        <div class="row mb-3">
            <div class="col-md-8 themed-grid-col">
                <button type="submit" class="btn btn-primary rounded-1">{{ form_type }}</button>
                <a href="{% url 'meal_list' %}" class="btn btn-light btn-sm rounded-1">Cancel</a>
            </div>
        </form>
        <div class="col-md-4 themed-grid-col">
            {% if meal %}
                <a href="{% url 'meal_delete' meal.id %}"
                   class="btn btn-danger rounded-1 align-items-end">Delete</a>
            {% endif %}
        </div>
    </div>
{% endblock content %}
